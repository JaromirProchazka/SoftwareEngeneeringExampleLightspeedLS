@startuml domain_model_expanded
title LightSpeed Domain Model 
skinparam classAttributeIconSize 0
skinparam packageStyle rectangle

'=== Core Universals (Classes) ===
class Traveler {
  + name : String
  + wheelchairAccessibleOnly : Boolean
  + preferredModes : List<TransportationType>
}

class UserSettings {
  + preferredMode : ModeOfTravel
  + preferredTransportTypes : List<TransportationType>
}

class DataAnalyst {
  + name : String
}

class Stop {
  + name : String
  + latitude : Double
  + longitude : Double
  + transportationTypes : List<TransportationType>
}

class Location {
  + name : String
  + latitude : Double
  + longitude : Double
}

class TravelSearch {
  + referenceTime : DateTime
  + timeType : SearchTimeType
}

class TravelAlternative {
  + totalDuration : Time
  + totalCost : Decimal
  + totalCarbonEmission : Decimal
  + departureTime : DateTime
  + arrivalTime : DateTime
}

class TravelSegment {
  + sequenceOrder : Integer
  + transportMode : TransportationType
  + duration : Time
  + cost : Decimal
  + emission : Decimal
}

class RealWorldVehicle {
  + vehicleNumber : String
  + type : TransportationType
}

class VehicleLocationUpdate {
  + timestamp : DateTime
  + delayInSeconds : Integer
}

class ExternalTransportationSystem {
  + name : String
}

class PersonalStatistics {
  + generatedAt : DateTime
}

class EmissionStatistics {
  + carbonSaved : Decimal
}

class SpendingSummary {
  + totalSpent : Decimal
  + periodStart : Date
  + periodEnd : Date
}

class SeasonalTrendReport {
  + season : String
  + demographicInfo : String
}

class RouteFilter {
  + filterType : String
}

class GreenFilter
class AccessibilityFilter
class TransportTypeFilter

'=== Enums ===
enum ModeOfTravel {
  FAST
  CHEAP
  GREEN
}
enum TransportationType {
  BUS
  TRAM
  METRO
  CAR
  BICYCLE
  WALK
}
enum SearchTimeType {
  DEPARTURE
  ARRIVAL
}

'=== Relations and Associations ===

'--- Users ---
Traveler "1" -- "1" UserSettings : configures
Traveler "1" -- "*" TravelSearch : initiates
Traveler "1" -- "*" PersonalStatistics : views
DataAnalyst "1" -- "*" SeasonalTrendReport : produces

'--- Search and Results ---
TravelSearch "1" -- "*" TravelAlternative : returns
TravelSearch "1" -- "*" RouteFilter : applies

RouteFilter <|-- GreenFilter
RouteFilter <|-- AccessibilityFilter
RouteFilter <|-- TransportTypeFilter

'--- Alternatives and Segments ---
TravelAlternative "1" -- "*" TravelSegment : composedOf

'--- Segments and Stops ---
TravelSegment "*" --> "1" Stop : startAt
TravelSegment "*" --> "1" Stop : endAt

'--- Real World Entities ---
ExternalTransportationSystem "1" -- "*" RealWorldVehicle : operates
ExternalTransportationSystem "1" -- "*" VehicleLocationUpdate : sendsUpdate

RealWorldVehicle "*" -- "*" Stop : serves
RealWorldVehicle "1" -- "*" VehicleLocationUpdate : positionUpdatedBy

'--- Vehicle updates impact travel ---
VehicleLocationUpdate "1" --> "*" TravelAlternative : affects

'--- Travelers interact with Stops ---
Traveler "*" -- "*" Stop : boardsAt

'--- Locations generalize Stops ---
Stop --|> Location

'--- Personal Statistics Specializations ---
PersonalStatistics <|-- EmissionStatistics
PersonalStatistics <|-- SpendingSummary

@enduml
